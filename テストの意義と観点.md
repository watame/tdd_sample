# テストってなんのために行うの？
ソフトウェアテストはソフトウェアの品質を評価し、運用環境でソフトウェアの故障が発生するリスクを低減するために実施する。

## V&V(Verification & Validation)という概念
この概念は品質保証の肝となる考え方。
価値をあるプロダクトを作るために、下記2つの項目を保証することは**必須**。

- https://ideson-worx.com/vv/

例：顧客が本当に必要だったもの
    -> 顧客の要件と、本当に必要なものは異なる
    　　入出力の正しさ（組み合わせている部品の正常さ）と要求を満たせたものを作っているかは、別のベクトル
    https://nyumon-info.com/column/bl01.html

### 検証
入力から出力が正しく変換されているのか確認すること。
- **正しく**ものを作っているかをチェックする
  - 仕様書と差異がないかを検証する

### 妥当性確認
出力がもともとの要求と合致しているのかを確認すること。
- **正しい**ものを作っているか
  - 最終的に実現したい目的に合致しているか
  - プロダクトが生み出したい価値と合致しているか

### 検証を完全にこなせば、それが妥当性につながるのでは？
入力->出力の検証が完全であれば、それらを繰り返した処理全体は妥当なものと言えるのではないか、という疑問がある。
数学のように誰もが同じ内容を解釈できるものであれば、誤解が生まれる余地がないため上記の疑問は正しい。
しかし、ソフトウェアの検証や妥当性の合意は「言語」によって行われており、同じ言葉でも立場や受け取り方によって解釈が異なる。
そのため、検証が完璧なプロダクトであっても、ステークホルダーから見ると妥当なプロダクトでない場合がありうる。
（パーツが揃っていても組み立て方によって、異なる製品ができるのと同じ）
だからこそ、検証を行うだけではなく、ステークホルダーにとっての妥当性は何なのかを考え、合意する必要がある。

## テストの7原則
[ソフトウェアテストの基礎：ソフトウェアテストの7原則](https://appkitbox.com/testkit/knowledge/test/20121112-8#:~:text=%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%83%86%E3%82%B9%E3%83%88%E3%81%A8%E3%81%84%E3%81%86%E6%8A%80%E8%A1%93%E5%88%86%E9%87%8E,%E3%81%AE%E3%81%8B%E3%82%92%E8%80%83%E5%AF%9F%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)を基に整理。

### 1.テストは欠陥があることは示せるが欠陥がないことは示せない
テストにより欠陥がないことは証明できない。
ソフトウェアに残る未検出欠陥の数を減らせるが、欠陥が見つからないとしても**欠陥がない**ことは示せない。

### 2.全数テストは不可能
全てをテストすることは、ごく単純なソフトウェア以外では非現実的。
全数テストの代わりに、リスク分析、テスト技法、優先度によりテストにかける労力を集中すべき。
-> それぞれのステークホルダが納得したテストを作るしかない。。。

### 3.早期テストで時間とコストを節約
早い段階で欠陥を見つけるために、静的テスト活動と動的テスト活動の両方をソフトウェア開発の早い時期に開始すべきである。
* 静的テスト
  * レビュー
  * コンパイラ
* 動的テスト

### 4.欠陥の偏在
リリース前のテストで見つかる欠陥、故障の大部分は特定の少数モジュールに集中する
-> **テストの工数をバグが固まっている箇所に集中させる**べき

### 5.殺虫剤のパラドックスにご用心
同じテストを何度も繰り返すと、新しい欠陥を見つけられなくなる。
テストとテストデータを定期的に見直して、改定する必要がある。
**※自動化されたリグレッションテストの場合は問題なし**

### 6.テストは状況次第
状況が異なれば、テストの方法も変わる。
産業用制御ソフトとeコマースのプログラミングではテストの方法も変わる。

### 7.「バグゼロ」の落とし穴
前パターンのテストをすべて実行することを期待する場合もあるが、1,2により無理だとわかる。

## テストには目的がある
どんなテストにも必ず目的がある。
-> インプットを列挙するだけでは、なんのためにこのテストを行うのか、目的が分からなくなる
-> 目的を考えにくいときは、どんなバグが発生して「なぜ」解消したいかを考えるとそれが目的になる

# テスト観点
「どの部分に、どのようなテストを実施すべきか？」を定義するための視点・切り口のこと
下記の4つを組み合わせてテスト観点を考える
1. 機能要素
  - どのシステム・機能を検証するか
2. 検証方法
  - どのようにテストするか
3. 入力条件
  - テスト対象に何をインプットするか
4. 出力結果
  - 何がどうなら良いのか

- 参考
  - https://biz.techvan.co.jp/tech-quality/quality-blog/000242.html

テスト観点を決める上で重要な視点は以下の2つ
- 網羅
- 効率性

## 網羅
全てのケースについてテストをする手法。
**動作実績を積み上げて品質を保証する「保証型」のテスト**

### 注意点
漏れなくテストを行う = 多面的に様々なことを考えつくす必要があるということ
- 仕様書の文・単語をテスト仕様としてもテスト観点は網羅出来ない
- **仕様書は通常不完全で、致命的なバグは仕様書には存在しない**
- テスト観点を上げるだけでバグが見つかることもある
  - 開発者が考慮していなかったテスト観点が見つかる可能性がある

そもそも全数テストは不可能で、テストは条件次第なので、テストが一意的に収束することはない

## 効率性
バグが起きそうなところを狙ってテストをする手法。
**少ない手間でたくさん危険なバグを検出する「検出型」のテスト**

以下の観点で整理する（[HAZOPガイドワード](http://hazop.jp/hazop_basic.html)を利用するのがベター）
- 起きてほしくないこと
- 意図したことと逆のことが起こる
- 量的意図の増減
- 質的意図の増減
- 意図したこととは別のことが起こる
